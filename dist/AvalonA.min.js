(function(){var e;e=function(){function e(e,r){this.id=e,this.debugIsOn=null!=r?r:!1}var r;return r="data-avalonA-deepness",e.prototype.find3dFrames=function(){if(this.outerFrameJQueryNode=$("#"+this.id),this.innerFrameJQueryNode=$(".avalona-inner-frame",this.outerFrameJQueryNode).eq(0),!this.outerFrameJQueryNode.size())throw new Error("Cannot find 3d frame '#"+this.id+"' in dom");if(!this.innerFrameJQueryNode.size())throw new Error("Cannot find 3d inner frame '#"+this.id+" .avalona-inner-frame' in dom")},e.prototype.setUp=function(){return TweenLite.set(this.innerFrameJQueryNode[0],{transformPerspective:1e3,transformStyle:"preserve-3d",overflow:"visible !important"}),$("["+r+"]",this.innerFrameJQueryNode).each(function(){return TweenLite.set(this,{transformStyle:"preserve-3d"})})},e.prototype.addBehavior=function(){var e=this;return this.outerFrameJQueryNode.mousemove(function(r){var t,n;return n=(r.pageX-$(window).prop("innerWidth")/2)/25,t=-1*(r.pageY-$(window).prop("innerHeight")/2)/15,e.debugIsOn&&console.log("rotationY: "+n),TweenLite.set(e.innerFrameJQueryNode[0],{rotationX:t,rotationY:n})}),this.outerFrameJQueryNode.on("mouseout","#"+this.id,function(){return TweenLite.to(e.innerFrameJQueryNode[0],1,{rotationX:0,rotationY:0})})},e.prototype.removeBehavior=function(){var e,r;return null!=(e=this.outerFrameJQueryNode)&&e.off("mousemove"),null!=(r=this.outerFrameJQueryNode)?r.off("mouseout"):void 0},e.prototype.refreshDeepness=function(e){var t;return null==e&&(e=null),null==e&&(e=$("["+r+"]",this.innerFrameJQueryNode)),t="string"==typeof e?$(e,this.innerFrameJQueryNode):$(e),t.each(function(){var e;return e=$(this).attr(r),TweenLite.to(this,.75,{z:e})})},e.prototype.refresh=function(){return this.removeBehavior(),this.find3dFrames(),this.setUp(),this.refreshDeepness(),this.addBehavior()},e.prototype.start=function(){return this.refresh()},e}(),window.AvalonA=function(r,t){return null==t&&(t=!1),new e(r,t)}}).call(this);
;